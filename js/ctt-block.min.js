!function(e){var t={};function a(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=3)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){function a(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,a){"use strict";a.r(t);var r=a(2),i=a.n(r),n=a(1),l=a.n(n),c=a(0);new(function(){function e(){i()(this,e),this.init()}return l()(e,[{key:"init",value:function(){var e=this,t=wp.blocks.registerBlockType,a=wp.i18n.__,r=wp.components,i=r.TextareaControl,n=r.ToggleControl,l=r.Icon,s=r.RadioControl,o=r.TextControl,u=r.Button,b=r.PanelBody,m=r.PanelRow,d=r.Spinner,p=r.ServerSideRender,g=wp.editor,x=g.InspectorControls,h=g.MediaUpload,O=g.MediaUploadCheck,j=wp.data.select("core/editor").getCurrentPostId;t("ctt/block",{title:a("Click To Tweet"),icon:"twitter",category:"embed",attributes:{submit:{type:"boolean",default:!1},submitProcessing:{type:"boolean",default:!1},generated:{type:"boolean",default:!1},tweetText:{type:"string"},displayText:{type:"string"},userName:{type:"boolean"},postLink:{type:"boolean"},imageBoxMediaID:{type:"string"},imageBoxMediaUrl:{type:"string",default:""},authorMediaID:{type:"string"},authorMediaUrl:{type:"string",default:""},authorName:{type:"string"},boxType:{type:"string",default:"1"},boxTypeSelect_1:{type:"string",default:"1"},boxTypeSelect_2:{type:"string",default:"1"},boxTypeSelect_3:{type:"string",default:"1"},boxTypeSelect_4:{type:"string",default:"1"},tweetCoverup:{type:"string"},tweetWithImage:{type:"string"}},save:function(e){return null},edit:function(t){var r="Sample Dummy Text for ClickToTweet plugin - A Wordpress plugin for creating Customize tweetable quotes";""!==t.attributes.displayText&&void 0!==t.attributes.displayText&&(r=t.attributes.displayText);var g=3==t.attributes.boxType&&(void 0===t.attributes.imageBoxMediaID||""==t.attributes.imageBoxMediaID),E=4==t.attributes.boxType&&(void 0===t.attributes.authorMediaID||""==t.attributes.authorMediaID);function v(e,a){var r={};r[e]=a,t.setAttributes(r)}function y(){var e=280,a=0;return""!==t.attributes.tweetText&&void 0!==t.attributes.tweetText&&(a=t.attributes.tweetText.length),a>=280?(t.setAttributes({tweetText:t.attributes.tweetText.substring(0,e)}),e=0):e-=a,e}return Object(c.createElement)("div",null,""!=ajax_var.token&&Object(c.createElement)("div",null,Object(c.createElement)("div",{style:{textAlign:"center"}},Object(c.createElement)(l,{icon:"twitter"})," ",a("Click To Tweet")),t.isSelected&&Object(c.createElement)("div",null,Object(c.createElement)("form",{onSubmit:function(e){if(t.setAttributes({submit:!0}),!g&&!E){var a=t.attributes["boxTypeSelect_"+t.attributes.boxType],r={action:"ctt_api_post",security:ajax_var.ajax_nonce,data:$.param({token:ajax_var.token,tweet:t.attributes.tweetText,title:t.attributes.displayText,ref_url_post_id:j(),"tab-upbox":t.attributes.boxType,"tweet-thumb-id":t.attributes.imageBoxMediaID||"","author-thumb-id":t.attributes.authorMediaID||"","ctt-author-name":t.attributes.authorName||"",theme_data:t.attributes.boxType+"|"+a,tweet_id:t.attributes.imageBoxMediaID||"",author_thumb:t.attributes.authorMediaID||"",tweet_text:t.attributes.tweetText,designBOX1:t.attributes.boxTypeSelect_1||"",designBOX2:t.attributes.boxTypeSelect_2||"",designBOX3:t.attributes.boxTypeSelect_3||"","author-box":t.attributes.boxTypeSelect_4||"","send-via":t.attributes.userName||"",include_ref_link:t.attributes.postLink||""}),theme_data:t.attributes.boxType+"|"+a,tweet_id:t.attributes.imageBoxMediaID||"",author_thumb:t.attributes.authorMediaID||"",tweet_text:t.attributes.tweetText,title:t.attributes.displayText};t.setAttributes({submitProcessing:!0}),jQuery.post(ajax_var.url+"/wp-admin/admin-ajax.php",r,function(e){t.setAttributes({submitProcessing:!1});var a=jQuery.parseJSON(e);t.setAttributes({generated:!0}),void 0!==a.coverup?t.setAttributes({tweetCoverup:a.coverup}):void 0!==a.tweet&&t.setAttributes({tweetWithImage:a.tweet})})}return e.preventDefault(),!1}.bind(e)},Object(c.createElement)(i,{label:a("Message to be tweeted"),help:y()+a(" characters remaining"),value:t.attributes.tweetText,onChange:v.bind(e,"tweetText"),onKeyUp:y,className:"msgToTweet",required:!0,disabled:t.attributes.generated}),Object(c.createElement)(i,{label:a("Message to be displayed in blog post"),value:t.attributes.displayText,onChange:v.bind(e,"displayText"),required:!0}),!t.attributes.generated&&Object(c.createElement)(n,{label:a("Include Twitter username"),checked:t.attributes.userName,onChange:v.bind(e,"userName")}),!t.attributes.generated&&Object(c.createElement)(n,{label:a("Include a link back to the blog post"),checked:t.attributes.postLink,onChange:v.bind(e,"postLink"),disabled:t.attributes.generated}),3==t.attributes.boxType&&Object(c.createElement)(O,null,Object(c.createElement)(h,{onSelect:function(e){t.setAttributes({imageBoxMediaID:String(e.id),imageBoxMediaUrl:e.url})},allowedTypes:["image"],value:t.attributes.imageBoxMediaID,render:function(e){var r=e.open;return Object(c.createElement)("div",null,!t.attributes.generated&&Object(c.createElement)("div",null,Object(c.createElement)(u,{onClick:r,isDefault:!0},Object(c.createElement)(l,{icon:"upload"})," ",a("Upload image")),!0===t.attributes.submit&&1==g&&Object(c.createElement)("div",{className:"uploadError error"},a("Upload an image"))))}}),""!=t.attributes.imageBoxMediaUrl&&Object(c.createElement)("img",{src:t.attributes.imageBoxMediaUrl,className:"uploadPreview"})),4==t.attributes.boxType&&Object(c.createElement)(o,{label:a("Author Name"),value:t.attributes.authorName,onChange:v.bind(e,"authorName"),required:!0}),4==t.attributes.boxType&&Object(c.createElement)(O,null,Object(c.createElement)(h,{onSelect:function(e){t.setAttributes({authorMediaID:String(e.id),authorMediaUrl:e.url})},allowedTypes:["image"],value:t.attributes.authorMediaID,render:function(e){var r=e.open;return Object(c.createElement)("div",null,Object(c.createElement)("div",null,Object(c.createElement)(u,{onClick:r,isDefault:!0},Object(c.createElement)(l,{icon:"upload"})," ",a("Upload author image")),!0===t.attributes.submit&&1==E&&Object(c.createElement)("div",{className:"uploadError error"},a("Upload an author image"))))}}),""!=t.attributes.authorMediaUrl&&Object(c.createElement)("img",{src:t.attributes.authorMediaUrl,className:"uploadPreview"})),!t.attributes.generated&&Object(c.createElement)("div",null,Object(c.createElement)(u,{isDefault:!0,type:"submit"},t.attributes.submitProcessing&&Object(c.createElement)(d,null)||a("Add")))),Object(c.createElement)(x,null,!t.attributes.generated&&Object(c.createElement)(b,{title:a("Click To Tweet Setting"),initialOpen:!0},Object(c.createElement)(m,null,Object(c.createElement)(s,{label:"Design Type",options:[{label:"Box Design",value:"1"},{label:"Hint Design",value:"2"},{label:"Image Box Design",value:"3"},{label:"Author Box Design",value:"4"}],selected:t.attributes.boxType,onChange:v.bind(e,"boxType")}))),1==t.attributes.boxType&&function(){var e=this,i=[];return["first","third","second","sixth","forteenth","fourth","fifth","fifteenth","seventh","eighth","ninth","twelth"].map(function(a,n){n+=1,i.push(Object(c.createElement)(m,{className:"box_container"},Object(c.createElement)("div",{className:"tweet-box "+a},Object(c.createElement)("label",null,Object(c.createElement)("p",{className:"td_"},r),Object(c.createElement)("span",{className:"click-to-tweet"}," ",Object(c.createElement)("span",null,Object(c.createElement)("i",null),"CLICK TO TWEET")," "),Object(c.createElement)("input",{type:"radio",name:"designBOX1",value:n,checked:t.attributes.boxTypeSelect_1==n,onChange:v.bind(e,"boxTypeSelect_1",String(n))}),Object(c.createElement)("span",{className:"select"}," ")))))}),Object(c.createElement)(b,{title:a("Select a box design"),initialOpen:!0},i)}(),3==t.attributes.boxType&&function(){var e=this,r=[],i=ajax_var.sampleImage;return""!==t.attributes.imageBoxMediaUrl&&void 0!==t.attributes.imageBoxMediaUrl&&(i=t.attributes.imageBoxMediaUrl),["first","second","third","fourth","fifth","sixth"].map(function(a,n){n+=1,r.push(Object(c.createElement)(m,{className:"box_container"},Object(c.createElement)("div",{className:"tweet-box image-box "+a+"-image"},Object(c.createElement)("label",null,Object(c.createElement)("img",{src:i,className:"twd-image"}),Object(c.createElement)("input",{type:"radio",name:"designBOX3",value:n,checked:t.attributes.boxTypeSelect_3==n,onChange:v.bind(e,"boxTypeSelect_3",String(n))}),Object(c.createElement)("span",{className:"select"}," ")),Object(c.createElement)("span",{className:"click-to-tweet"},Object(c.createElement)("a",{href:"#",className:"click_image_link"}," ",Object(c.createElement)("i",null),Object(c.createElement)("span",{className:"click_action"},"Tweet"))," "))))}),Object(c.createElement)(b,{title:a("Select a image design"),initialOpen:!0},r)}(),2==t.attributes.boxType&&function(){var e=this,i=[];return["first"].map(function(a,n){n+=1,i.push(Object(c.createElement)(m,{className:"box_container"},Object(c.createElement)("div",{className:"box-design hint-box"},Object(c.createElement)("div",{className:"hint-box-container"},Object(c.createElement)("label",null,Object(c.createElement)("p",null,"Don't read this text. It is here just to represent",Object(c.createElement)("span",{className:"click_hint inpop-up"},Object(c.createElement)("a",{href:"#",className:ajax_var.hintBox.background+"-type color_"+ajax_var.hintBox.color},Object(c.createElement)("span",{className:"click-text_hint"},r,Object(c.createElement)("i",null," ")),Object(c.createElement)("span",{className:"tweetdis_hint_icon"}," ")))),Object(c.createElement)("input",{type:"radio",name:"designBOX2",value:n,checked:t.attributes.boxTypeSelect_2==n,onChange:v.bind(e,"boxTypeSelect_2",String(n))}),Object(c.createElement)("span",{className:"select"}," "))))))}),Object(c.createElement)(b,{title:a("Select a hint design"),initialOpen:!0},i)}(),4==t.attributes.boxType&&function(){var e=this,i=[],n=ajax_var.authorSampleImage;""!==t.attributes.authorMediaUrl&&void 0!==t.attributes.authorMediaUrl&&(n=t.attributes.authorMediaUrl);var l="Nick";return""!==t.attributes.authorName&&void 0!==t.attributes.authorName&&(l=t.attributes.authorName),["first","second","third"].map(function(a,s){s+=1,i.push(Object(c.createElement)(m,{className:"box_container"},Object(c.createElement)("div",{className:"auth-box-one"},Object(c.createElement)("div",{className:"col-preview"},Object(c.createElement)("label",null,Object(c.createElement)("input",{type:"radio",name:"author-box",value:s,checked:t.attributes.boxTypeSelect_4==s,onChange:v.bind(e,"boxTypeSelect_4",String(s))}),Object(c.createElement)("div",{className:"author-"+a+"-inner"},Object(c.createElement)("div",{className:"thumb"},Object(c.createElement)("img",{src:n,className:"auth-src"})),Object(c.createElement)("div",{className:"tweet-text"},Object(c.createElement)("p",null,r),Object(c.createElement)("div",{className:"lower-btn"},Object(c.createElement)("label",null,l),Object(c.createElement)("a",{href:"#"},"CLICK TO TWEET")),Object(c.createElement)("span",{className:"select"}," ")),Object(c.createElement)("div",{className:"clearfix"})))))))}),Object(c.createElement)(b,{title:a("Select a author box design"),initialOpen:!0},i)}()))||Object(c.createElement)("div",null,t.attributes.generated&&Object(c.createElement)(p,{block:"ctt/block",attributes:t.attributes})))||Object(c.createElement)("p",{className:"check-token"},a("You need to sign in with Twitter to connect to ClickToTweet.com."),Object(c.createElement)("a",{href:ajax_var.admin_url+"options-general.php?page=ctt",target:"_parent"},a("Click here"))," ",a("to sign in.")))}})}}]),e}())}]);